<html>
<head>
	<tile>Accessible Graphs Demo 1</title>
<link rel="stylesheet" type="text/css" href="style1.css" />
<script type="text/javascript" src="./js/jquery-1.7.2.min.js"></script>

<!-- DHTMLX stuff here. -->
<script type="text/javascript" src="./js/dhtmlxchart.js"></script>
<link rel="stylesheet" type="text/css" href="./js/dhtmlxchart.css" />
<script type="text/javascript">
function chartPrep(id) {
	if(chart) chart.destructor();
	
	var data = [
		{sales: 2.9, year:"2000"},
		{sales: 3.5, year:"2001"},
		{sales: 7.6, year:"2009"}
	];

	var chart = new dhtmlXChart( {
		view: "line",
		container: id,
		value: "#sales#"
	});

	chart.parse(data,"json");
	}
</script>

<script type="text/javascript">
// The interesting stuff happens here.
function updateChartMLMain(id, type) {
	var content = "";
	var timestamp = new Date().getTime();
	var runChartPrep = false;
	switch(type) {
		case "visual":
			chartPrep("cmlrmain");
			break;
		case "enhance":
			content = '<img src="./res/graph1_enhanced.png" width="600px" />';
			break;
		case "reverse":
			content = '<img src="./res/graph1_reversed.png" width="600px" />';
			break;
		case "audio":
			content = "Audio";
			break;
		case "text":
			content = '<textarea style="width:600px; height:360px; font-size:inherit;">The line graph shows the real personal consumption expenditures increasing from $8,421 to $9,443 between the years 2004 and 2011. We can observe a steady increase from $8,421 in 2004 to $9,340 in the first quarter of 2008. At the end of the first quarter of 2008, it decreases to $9,114 until the first quarter of 2009. From that point on, the expenditures steadily rise to $9,443 in 2011.</textarea>';
			break;
		case "data":
			content = "Data";
			break;
		default:
			content = "Could not find content..";
	}
	$("#"+id).children(".ChartMLRenderingMain").html(content);
	// also may have to change settings in the fine grained area...
}
</script>
</head>

<body>
<h1>Some header</h1>
<p>Some text here.</p>

<!-- base example -->
<div class="ChartMLContainer" id="Stocks">
	<div class="ChartMLRenderingFineControls">
		<ul class="ChartMLRenderingFineControls">
			<li><img src="./res/icon_visual.png" alt-text="Visual Graph" height="32px" onclick="updateChartMLMain('Stocks', 'visual')" /></li>
			<li><img src="./res/icon_enhanced.png" alt-text="Enhanced Visuals" onclick="updateChartMLMain('Stocks', 'enhance')" /></li>
			<li><img src="./res/icon_reversed.png" alt-text="Reversed Visuals" onclick="updateChartMLMain('Stocks', 'reverse')" /></li>
		</ul>
	</div>

	<!-- Just assuming width of 600px for now.. -->
	<div id="cmlrmain" class="ChartMLRenderingMain" style="width:600px; height:360px border:1px solid #A4BED4;"></div>
	<div class="ChartMLRenderingGrossControls">
		<ul class="ChartMLRenderingGrossControls">
			<li><img src="./res/icon_visual.png" alt-text="Visual Graph" height="32px" onclick="updateChartMLMain('Stocks', 'visual')" /></li>
			<li><img src="./res/icon_audio.png" alt-text="Auditory Graph" onclick="updateChartMLMain('Stocks', 'audio')" /></li>
			<li><img src="./res/icon_text.png" alt-text="Text Description" onclick="updateChartMLMain('Stocks', 'text')" /></li>
			<li><img src="./res/icon_table.png" alt-text="Data Table" onclick="updateChartMLMain('Stocks', 'data')" /></li>
		</ul>
	</div>
</div>

<p>Some text below.</p>

<div id="chart_container" style="width:280px;height:250px;border:1px solid #A4BED4;"></div>
</body>
</html>